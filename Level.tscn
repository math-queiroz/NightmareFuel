[gd_scene load_steps=85 format=3 uid="uid://dqaxloj2f6ui0"]

[ext_resource type="Script" path="res://scripts/components/Level.gd" id="1_pyr82"]
[ext_resource type="Theme" uid="uid://bg4jjqmkvq134" path="res://resources/theme.tres" id="2_fe8gt"]
[ext_resource type="Shader" path="res://shaders/pixelated_background.gdshader" id="3_i87sa"]
[ext_resource type="Script" path="res://scripts/components/AnimatedBG.gd" id="4_785ru"]
[ext_resource type="Script" path="res://scripts/components/IndicatorContainer.gd" id="5_b7hnk"]
[ext_resource type="Texture2D" uid="uid://b6qw5x8p3dh0a" path="res://sprites/bar_frames.png" id="6_2r78u"]
[ext_resource type="Script" path="res://scripts/components/Indicators.gd" id="7_epfbi"]
[ext_resource type="Texture2D" uid="uid://dpxa1u5iljjnr" path="res://sprites/bar_labels.png" id="8_akk25"]
[ext_resource type="Texture2D" uid="uid://dvrcs54d1ndg7" path="res://sprites/bar_time.png" id="9_nyadi"]
[ext_resource type="Texture2D" uid="uid://bnqr4j3hgta8t" path="res://sprites/bar_sanity.png" id="10_11rv7"]
[ext_resource type="Script" path="res://scripts/components/Client.gd" id="11_urmst"]
[ext_resource type="Texture2D" uid="uid://cl6lk5tp00bov" path="res://sprites/table.png" id="12_ajjyd"]
[ext_resource type="Script" path="res://scripts/components/IceTray.gd" id="13_bjs4r"]
[ext_resource type="PackedScene" uid="uid://dydrl2jcvr54u" path="res://scenes/components/shadow.tscn" id="14_33tf5"]
[ext_resource type="Texture2D" uid="uid://ckg6ht3g4xkj7" path="res://sprites/shadow_medium.png" id="15_kk11c"]
[ext_resource type="Texture2D" uid="uid://ck4n334pm4h5g" path="res://sprites/Ice.png" id="16_p4mwt"]
[ext_resource type="AudioStream" uid="uid://bpumixqjera2h" path="res://sounds/glass2.wav" id="17_iakt5"]
[ext_resource type="Script" path="res://scripts/components/Bell.gd" id="18_6ifha"]
[ext_resource type="Texture2D" uid="uid://cbvggcrr045v2" path="res://sprites/bell.png" id="19_8sbu1"]
[ext_resource type="AudioStream" uid="uid://fil8mx0ujvce" path="res://sounds/double_ding.wav" id="20_ml5cu"]
[ext_resource type="Script" path="res://scripts/components/Book.gd" id="21_v62h1"]
[ext_resource type="AudioStream" uid="uid://dyurahqpmf4sd" path="res://sounds/BookOpen.wav" id="22_026a6"]
[ext_resource type="AudioStream" uid="uid://dvih7ii4m6nmn" path="res://sounds/BookClose.wav" id="23_voh7d"]
[ext_resource type="AudioStream" uid="uid://5dp8wosrxl5l" path="res://sounds/BookPageNext.wav" id="24_ikrsm"]
[ext_resource type="AudioStream" uid="uid://bw30hmnvujdwm" path="res://sounds/BookPagePrev.wav" id="25_qhf7o"]
[ext_resource type="Texture2D" uid="uid://ctdg0edjta8k0" path="res://sprites/book_spot.png" id="26_enoih"]
[ext_resource type="Texture2D" uid="uid://bx124nkaqkrm8" path="res://sprites/book.png" id="27_nrjki"]
[ext_resource type="Texture2D" uid="uid://c18twlbvu7lny" path="res://sprites/book_overlay.png" id="28_15ncf"]
[ext_resource type="Script" path="res://scripts/components/BookOverlay.gd" id="29_u2l1q"]
[ext_resource type="Resource" uid="uid://bga6f5030r7up" path="res://resources/book_pages/cycle1_pages.tres" id="30_rbltp"]
[ext_resource type="Script" path="res://scripts/components/Bottle.gd" id="31_qn33y"]
[ext_resource type="AudioStream" uid="uid://d4m3p3s3uj6ow" path="res://sounds/BottleOpen3.wav" id="32_debq1"]
[ext_resource type="Texture2D" uid="uid://sh2xldp6p1cr" path="res://sprites/bottle4 open.png" id="33_0vbtt"]
[ext_resource type="Texture2D" uid="uid://dqry0da64ct8u" path="res://sprites/bottle4.png" id="34_wjdji"]
[ext_resource type="PackedScene" uid="uid://c8va1d6q5rlfe" path="res://scenes/components/spill_point.tscn" id="35_3uqy7"]
[ext_resource type="AudioStream" uid="uid://cqf33l51ineik" path="res://sounds/BottleOpen4.wav" id="36_xdxvg"]
[ext_resource type="Texture2D" uid="uid://bcwcda62yn3md" path="res://sprites/bottle3 open.png" id="37_6hfpn"]
[ext_resource type="Texture2D" uid="uid://c6u7bmv1qgo57" path="res://sprites/bottle3.png" id="38_ok52s"]
[ext_resource type="AudioStream" uid="uid://c1t245sffgikl" path="res://sounds/BottleOpen2.wav" id="39_fh8ho"]
[ext_resource type="Texture2D" uid="uid://kqlqqxl3hmjq" path="res://sprites/bottle2 open.png" id="40_7yeo2"]
[ext_resource type="Texture2D" uid="uid://dqmgphuqmrmo2" path="res://sprites/bottle2.png" id="41_egkty"]
[ext_resource type="AudioStream" uid="uid://esxf4gtdheka" path="res://sounds/BottleOpen1.wav" id="42_y1bn6"]
[ext_resource type="Texture2D" uid="uid://6kr4fx2bmk64" path="res://sprites/bottle1_open.png" id="43_t3ewn"]
[ext_resource type="Texture2D" uid="uid://cuu37hajkvki" path="res://sprites/bottle1.png" id="44_cm3ww"]
[ext_resource type="Script" path="res://scripts/components/Cup.gd" id="45_tj7y5"]
[ext_resource type="AudioStream" uid="uid://byr2mu0x18ro7" path="res://sounds/glass0.wav" id="46_sunde"]
[ext_resource type="Texture2D" uid="uid://dpk0gq8avs52d" path="res://sprites/cup_small.png" id="47_f1782"]
[ext_resource type="PackedScene" uid="uid://iroykxv0rbm2" path="res://scenes/components/liquid_sprite.tscn" id="48_v15ix"]
[ext_resource type="Texture2D" uid="uid://vftalu50ys74" path="res://sprites/cup_small_mask.png" id="49_ia11j"]
[ext_resource type="AudioStream" uid="uid://baujpps8p7ip3" path="res://sounds/glass1.wav" id="50_57ac1"]
[ext_resource type="Texture2D" uid="uid://c7k6btop63xjv" path="res://sprites/cup_medium.png" id="51_cswak"]
[ext_resource type="Texture2D" uid="uid://b2run7b01cd8t" path="res://sprites/cup_medium_mask.png" id="52_hgo2k"]
[ext_resource type="AudioStream" uid="uid://bslbvoirnlv0x" path="res://sounds/mug.wav" id="53_23gse"]
[ext_resource type="Texture2D" uid="uid://crb82o18qpi1o" path="res://sprites/cup_large.png" id="54_8bst2"]
[ext_resource type="Texture2D" uid="uid://cgn36c3g7xii2" path="res://sprites/margin.png" id="55_41ku8"]
[ext_resource type="Script" path="res://scripts/components/Area2DOutOfBounds.gd" id="56_rcjlm"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_fw7h2"]
shader = ExtResource("3_i87sa")
shader_parameter/transparency = 1.0
shader_parameter/color0 = Color(0.105882, 0.0823529, 0.419608, 1)
shader_parameter/color1 = Color(0.239216, 0.160784, 0.733333, 1)
shader_parameter/color2 = Color(0.329412, 0.392157, 0.819608, 1)
shader_parameter/color3 = Color(0.39, 0.52, 1, 1)
shader_parameter/Direction = Vector2(1, 1)
shader_parameter/Speed = 10.0
shader_parameter/RandomSeed = 1.0
shader_parameter/thresholds = PackedFloat32Array(0.5, 0.7, 0.8)
shader_parameter/OCTAVE = 6
shader_parameter/pixel_size = 400
shader_parameter/dithering = 2.25

[sub_resource type="CanvasTexture" id="CanvasTexture_klxyk"]
diffuse_texture = ExtResource("9_nyadi")
texture_filter = 1

[sub_resource type="CanvasTexture" id="CanvasTexture_ohgur"]
diffuse_texture = ExtResource("10_11rv7")
texture_filter = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6i0f3"]
size = Vector2(165, 208)

[sub_resource type="CanvasTexture" id="CanvasTexture_dgkbj"]
diffuse_texture = ExtResource("12_ajjyd")
texture_filter = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4satd"]
size = Vector2(400, 26)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_svdcj"]
size = Vector2(389, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rvvaf"]
size = Vector2(44, 18)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pc2ky"]
size = Vector2(24, 18)

[sub_resource type="CanvasTexture" id="CanvasTexture_or7gx"]
diffuse_texture = ExtResource("27_nrjki")
texture_filter = 1

[sub_resource type="CircleShape2D" id="CircleShape2D_08a4j"]
radius = 32.0

[sub_resource type="CircleShape2D" id="CircleShape2D_y21k3"]
radius = 19.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c07jn"]
size = Vector2(14, 26)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_a8htp"]
polygon = PackedVector2Array(-4, -1, -1.5, 21.5, 5, 21.5, 8, -1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bdipf"]
size = Vector2(18, 14)

[sub_resource type="Shader" id="Shader_f5rwj"]
code = "shader_type canvas_item;

uniform vec3 Color1 : source_color;
uniform vec3 Color2 : source_color;
uniform vec3 Color3 : source_color;
uniform vec3 Color4 : source_color;

uniform vec4 Weights;

uniform float RimHeight = 0.1;
uniform float RimBightness = 0.25;

uniform float Percentage = 0.0;

varying float y_rotation;

void vertex() {
	y_rotation = atan(MODEL_MATRIX[0][1], MODEL_MATRIX[0][0]);
}

void fragment() {
	float rotated_y = cos(-y_rotation) * (UV.y - 0.5) - sin(-y_rotation) * (UV.x - 0.5) + 0.5;
	vec3 Color = (Color1*Weights.x + Color2*Weights.y + Color3*Weights.z + Color4*Weights.w) / (Weights.x+Weights.y+Weights.z+Weights.w);
	COLOR.a -= step(rotated_y, 1.0 - Percentage + 0.207 * float(step(Percentage, 0.01)));
	COLOR.rgb = Color.rgb;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o4ral"]
resource_local_to_scene = true
shader = SubResource("Shader_f5rwj")
shader_parameter/Color1 = Color(1, 0.933333, 0.6, 1)
shader_parameter/Color2 = Color(0.8, 0.6, 1, 1)
shader_parameter/Color3 = Color(1, 0.6, 0.607843, 1)
shader_parameter/Color4 = Color(0.6, 0.760784, 1, 1)
shader_parameter/Weights = Vector4(1, 0, 0, 0)
shader_parameter/RimHeight = 0.035
shader_parameter/RimBightness = -0.2
shader_parameter/Percentage = 0.0

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_lr6c1"]
polygon = PackedVector2Array(-7.5, 3, -4.5, 34, 5, 34, 10, 3)

[sub_resource type="Shader" id="Shader_k6wut"]
code = "shader_type canvas_item;

uniform vec3 Color1 : source_color;
uniform vec3 Color2 : source_color;
uniform vec3 Color3 : source_color;
uniform vec3 Color4 : source_color;

uniform vec4 Weights;

uniform float RimHeight = 0.1;
uniform float RimBightness = 0.25;

uniform float Percentage = 0.0;

varying float y_rotation;

void vertex() {
	y_rotation = atan(MODEL_MATRIX[0][1], MODEL_MATRIX[0][0]);
}

void fragment() {
	float rotated_y = cos(-y_rotation) * (UV.y - 0.5) - sin(-y_rotation) * (UV.x - 0.5) + 0.5;
	vec3 Color = (Color1*Weights.x + Color2*Weights.y + Color3*Weights.z + Color4*Weights.w) / (Weights.x+Weights.y+Weights.z+Weights.w);
	COLOR.a -= step(rotated_y, 1.0 - Percentage + 0.207 * float(step(Percentage, 0.01)));
	COLOR.rgb = Color.rgb;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_655xr"]
resource_local_to_scene = true
shader = SubResource("Shader_k6wut")
shader_parameter/Color1 = Color(1, 0.933333, 0.6, 1)
shader_parameter/Color2 = Color(0.8, 0.6, 1, 1)
shader_parameter/Color3 = Color(1, 0.6, 0.607843, 1)
shader_parameter/Color4 = Color(0.6, 0.760784, 1, 1)
shader_parameter/Weights = Vector4(1, 0, 0, 0)
shader_parameter/RimHeight = 0.035
shader_parameter/RimBightness = -0.2
shader_parameter/Percentage = 0.0

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_iytb4"]
polygon = PackedVector2Array(-9, 5, -8.5, 38, 10.5, 38.5, 12, 5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_j507e"]
size = Vector2(18, 14)

[sub_resource type="Shader" id="Shader_w6bqu"]
code = "shader_type canvas_item;

uniform vec3 Color1 : source_color;
uniform vec3 Color2 : source_color;
uniform vec3 Color3 : source_color;
uniform vec3 Color4 : source_color;

uniform vec4 Weights;

uniform float RimHeight = 0.1;
uniform float RimBightness = 0.25;

uniform float Percentage = 0.0;

varying float y_rotation;

void vertex() {
	y_rotation = atan(MODEL_MATRIX[0][1], MODEL_MATRIX[0][0]);
}

void fragment() {
	float rotated_y = cos(-y_rotation) * (UV.y - 0.5) - sin(-y_rotation) * (UV.x - 0.5) + 0.5;
	vec3 Color = (Color1*Weights.x + Color2*Weights.y + Color3*Weights.z + Color4*Weights.w) / (Weights.x+Weights.y+Weights.z+Weights.w);
	COLOR.a -= step(rotated_y, 1.0 - Percentage + 0.414 * float(step(Percentage, 0.01)));
	COLOR.rgb = Color.rgb;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8e8bw"]
resource_local_to_scene = true
shader = SubResource("Shader_w6bqu")
shader_parameter/Color1 = Color(1, 0.933333, 0.6, 1)
shader_parameter/Color2 = Color(0.8, 0.6, 1, 1)
shader_parameter/Color3 = Color(1, 0.6, 0.607843, 1)
shader_parameter/Color4 = Color(0.6, 0.760784, 1, 1)
shader_parameter/Weights = Vector4(0, 0, 0, 0)
shader_parameter/RimHeight = 0.035
shader_parameter/RimBightness = -0.2
shader_parameter/Percentage = 0.0

[sub_resource type="CanvasTexture" id="CanvasTexture_p4c3i"]
diffuse_texture = ExtResource("55_41ku8")
texture_filter = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4fqae"]
size = Vector2(6, 211)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4pb45"]
size = Vector2(5, 211)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0u3q2"]
size = Vector2(648, 20)

[node name="Level" type="Node"]
script = ExtResource("1_pyr82")

[node name="LevelTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 120.0
one_shot = true

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme = ExtResource("2_fe8gt")

[node name="AnimatedBG" type="ColorRect" parent="UI"]
unique_name_in_owner = true
z_index = -10
material = SubResource("ShaderMaterial_fw7h2")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -46.0
offset_top = -176.0
offset_right = 54.0
offset_bottom = 244.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.00093, 0.997859)
mouse_filter = 2
script = ExtResource("4_785ru")

[node name="IndicatorsContainer" type="Control" parent="UI"]
anchors_preset = 0
offset_left = 528.0
offset_top = 34.0
offset_right = 656.0
offset_bottom = 56.0
scale = Vector2(2, 2)
mouse_filter = 1
script = ExtResource("5_b7hnk")

[node name="IndicatorFrame" type="Sprite2D" parent="UI/IndicatorsContainer"]
unique_name_in_owner = true
z_index = 10
texture_filter = 1
position = Vector2(65, 12.5)
texture = ExtResource("6_2r78u")
script = ExtResource("7_epfbi")

[node name="Sprite2D" type="Sprite2D" parent="UI/IndicatorsContainer/IndicatorFrame"]
position = Vector2(40, -1.5)

[node name="IndicatorLabels" type="Sprite2D" parent="UI/IndicatorsContainer"]
unique_name_in_owner = true
visible = false
z_index = 10
texture_filter = 1
position = Vector2(59, 18.5)
texture = ExtResource("8_akk25")

[node name="TimeBar" type="TextureProgressBar" parent="UI/IndicatorsContainer"]
unique_name_in_owner = true
z_index = 11
layout_mode = 0
offset_left = 13.0
offset_top = 6.0
offset_right = 81.0
offset_bottom = 11.0
mouse_filter = 2
max_value = 68.0
value = 68.0
texture_progress = SubResource("CanvasTexture_klxyk")

[node name="SanityBar" type="TextureProgressBar" parent="UI/IndicatorsContainer"]
unique_name_in_owner = true
z_index = 11
layout_mode = 0
offset_left = 17.0
offset_top = 14.0
offset_right = 81.0
offset_bottom = 17.0
mouse_filter = 2
max_value = 16.0
value = 16.0
texture_progress = SubResource("CanvasTexture_ohgur")

[node name="CustomerManager" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(358, 278)
scale = Vector2(2, 2)
script = ExtResource("11_urmst")

[node name="Area2DCustomerInteraction" type="Area2D" parent="CustomerManager"]
scale = Vector2(0.5, 0.5)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CustomerManager/Area2DCustomerInteraction"]
position = Vector2(-2.5, -57)
shape = SubResource("RectangleShape2D_6i0f3")

[node name="Table" type="StaticBody2D" parent="."]
position = Vector2(401, 419)
scale = Vector2(2, 2)
collision_layer = 4

[node name="Table" type="Sprite2D" parent="Table"]
texture = SubResource("CanvasTexture_dgkbj")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Table"]
position = Vector2(-1, 18)
shape = SubResource("RectangleShape2D_4satd")

[node name="Upper" type="StaticBody2D" parent="Table"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Table/Upper"]
position = Vector2(-0.5, -11)
shape = SubResource("RectangleShape2D_svdcj")

[node name="IceCubePool" type="Node" parent="."]
unique_name_in_owner = true

[node name="DropletPool" type="Node" parent="."]
unique_name_in_owner = true

[node name="IceTray" type="Area2D" parent="."]
position = Vector2(227, 367)
scale = Vector2(2, 2)
collision_layer = 8
collision_mask = 8
script = ExtResource("13_bjs4r")

[node name="Shadow" parent="IceTray" instance=ExtResource("14_33tf5")]
z_index = 1
texture = ExtResource("15_kk11c")

[node name="Sprite2D" type="Sprite2D" parent="IceTray"]
z_index = 1
texture_filter = 1
texture = ExtResource("16_p4mwt")

[node name="CollisionShape2D" type="CollisionShape2D" parent="IceTray"]
shape = SubResource("RectangleShape2D_rvvaf")

[node name="AudioStreamPlayerIceTray" type="AudioStreamPlayer" parent="IceTray"]
unique_name_in_owner = true
stream = ExtResource("17_iakt5")
max_polyphony = 3

[node name="Bell" type="Area2D" parent="."]
position = Vector2(27, 358)
scale = Vector2(2, 2)
script = ExtResource("18_6ifha")

[node name="Shadow" parent="Bell" instance=ExtResource("14_33tf5")]
z_index = 1

[node name="Sprite2D" type="Sprite2D" parent="Bell"]
z_index = 1
texture_filter = 1
texture = ExtResource("19_8sbu1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bell"]
shape = SubResource("RectangleShape2D_pc2ky")

[node name="AudioStreamPlayerBell" type="AudioStreamPlayer" parent="Bell"]
unique_name_in_owner = true
stream = ExtResource("20_ml5cu")

[node name="Book" type="Area2D" parent="."]
position = Vector2(82, 392)
scale = Vector2(2, 2)
script = ExtResource("21_v62h1")
book_open_sound = ExtResource("22_026a6")
book_close_sound = ExtResource("23_voh7d")
book_next_page_sound = ExtResource("24_ikrsm")
book_prev_page_sound = ExtResource("25_qhf7o")

[node name="BookSpot" type="Sprite2D" parent="Book"]
z_index = 1
texture_filter = 1
position = Vector2(10, 6)
texture = ExtResource("26_enoih")

[node name="Sprite2DBook" type="Sprite2D" parent="Book"]
unique_name_in_owner = true
visible = false
z_index = 1
position = Vector2(10, 3)
texture = SubResource("CanvasTexture_or7gx")

[node name="Sprite2DOverlay" type="Sprite2D" parent="Book"]
unique_name_in_owner = true
z_index = 10
texture_filter = 1
position = Vector2(86, -99)
texture = ExtResource("28_15ncf")

[node name="Overlay" type="Control" parent="Book/Sprite2DOverlay"]
texture_filter = 1
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -93.0
offset_top = -65.5
offset_right = -93.0
offset_bottom = -65.5
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme = ExtResource("2_fe8gt")
script = ExtResource("29_u2l1q")
book_pages = ExtResource("30_rbltp")
book_page_next_audio_stream = ExtResource("24_ikrsm")
book_page_prev_audio_stream = ExtResource("25_qhf7o")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Book/Sprite2DOverlay/Overlay"]
stream = ExtResource("24_ikrsm")

[node name="PageLeft" type="RichTextLabel" parent="Book/Sprite2DOverlay/Overlay"]
texture_filter = 1
layout_mode = 0
offset_left = 18.0
offset_top = 18.5
offset_right = 153.0
offset_bottom = 198.5
scale = Vector2(0.5, 0.5)
mouse_filter = 1
theme = ExtResource("2_fe8gt")
theme_override_colors/default_color = Color(0, 0, 0, 1)
bbcode_enabled = true
text = "[center][u]Progression[/u]


As you progress through the cycles, you will unlock features
Make sure to come back to the entire book

Feel free to explore and get used to the interactions,
just try not to make a mess
and maybe stay sane

When you're ready to begin
just ring the bell"
scroll_active = false

[node name="PageRight" type="RichTextLabel" parent="Book/Sprite2DOverlay/Overlay"]
texture_filter = 1
layout_mode = 0
offset_left = 100.0
offset_top = 18.5
offset_right = 235.0
offset_bottom = 198.5
scale = Vector2(0.5, 0.5)
mouse_filter = 1
theme = ExtResource("2_fe8gt")
theme_override_colors/default_color = Color(0, 0, 0, 1)
bbcode_enabled = true
text = "



[center][u]Good Luck![/u]


Oh, and remember
Teleported ice tastes awful
[font_size=8](at least for most of us)[/font_size]"
scroll_active = false

[node name="ButtonIndex" type="Button" parent="Book/Sprite2DOverlay/Overlay"]
modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_left = 20.0
offset_top = 1.0
offset_right = 28.0
offset_bottom = 11.0

[node name="ButtonPrevPage" type="Button" parent="Book/Sprite2DOverlay/Overlay"]
modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_top = 2.0
offset_right = 16.0
offset_bottom = 130.0

[node name="ButtonNextPage" type="Button" parent="Book/Sprite2DOverlay/Overlay"]
modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_left = 169.0
offset_top = 0.5
offset_right = 185.0
offset_bottom = 128.5

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Book"]
position = Vector2(0, 1)
polygon = PackedVector2Array(-4, -18, -28, 8, -28, 19, 23, 19, 49, -7, 49, -18)

[node name="AudioStreamPlayerBook" type="AudioStreamPlayer" parent="Book"]
unique_name_in_owner = true
max_polyphony = 8

[node name="Bottle4" type="CharacterBody2D" parent="."]
y_sort_enabled = true
position = Vector2(711, 272)
scale = Vector2(2, 2)
collision_layer = 8
collision_mask = 3
input_pickable = true
script = ExtResource("31_qn33y")
bottle_content_id = 3
hold_sound = ExtResource("32_debq1")
hold_texture = ExtResource("33_0vbtt")

[node name="CollisionShape2DCircle" type="CollisionShape2D" parent="Bottle4"]
position = Vector2(0, -6)
shape = SubResource("CircleShape2D_08a4j")

[node name="Sprite2D" type="Sprite2D" parent="Bottle4"]
z_index = 4
y_sort_enabled = true
texture_filter = 1
texture = ExtResource("34_wjdji")

[node name="SpillPoint" parent="Bottle4" instance=ExtResource("35_3uqy7")]
position = Vector2(0, -19)

[node name="Bottle3" type="CharacterBody2D" parent="."]
y_sort_enabled = true
position = Vector2(667, 293)
scale = Vector2(2, 2)
collision_layer = 8
collision_mask = 3
input_pickable = true
script = ExtResource("31_qn33y")
bottle_content_id = 2
hold_sound = ExtResource("36_xdxvg")
hold_texture = ExtResource("37_6hfpn")

[node name="CollisionShape2DCircle" type="CollisionShape2D" parent="Bottle3"]
position = Vector2(0, 13)
shape = SubResource("CircleShape2D_y21k3")

[node name="CollisionShape2DCylinder" type="CollisionShape2D" parent="Bottle3"]
position = Vector2(0, -19)
shape = SubResource("RectangleShape2D_c07jn")

[node name="Sprite2D" type="Sprite2D" parent="Bottle3"]
z_index = 3
y_sort_enabled = true
texture_filter = 1
texture = ExtResource("38_ok52s")

[node name="SpillPoint" parent="Bottle3" instance=ExtResource("35_3uqy7")]
position = Vector2(0, -24)

[node name="Bottle2" type="CharacterBody2D" parent="."]
y_sort_enabled = true
position = Vector2(632, 251)
scale = Vector2(2, 2)
collision_layer = 8
collision_mask = 3
input_pickable = true
script = ExtResource("31_qn33y")
bottle_content_id = 1
hold_sound = ExtResource("39_fh8ho")
hold_texture = ExtResource("40_7yeo2")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Bottle2"]
polygon = PackedVector2Array(-13, 11, -24, -9, -10, -3, 0, -30, 10, -3, 24, -9, 13, 11, 23, 28, 0, 19, -23, 28)

[node name="Sprite2D" type="Sprite2D" parent="Bottle2"]
z_index = 2
y_sort_enabled = true
texture_filter = 1
texture = ExtResource("41_egkty")

[node name="SpillPoint" parent="Bottle2" instance=ExtResource("35_3uqy7")]
position = Vector2(0, -22)

[node name="Bottle1" type="CharacterBody2D" parent="."]
y_sort_enabled = true
position = Vector2(586, 257)
scale = Vector2(2, 2)
collision_layer = 8
collision_mask = 3
input_pickable = true
script = ExtResource("31_qn33y")
hold_sound = ExtResource("42_y1bn6")
hold_texture = ExtResource("43_t3ewn")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Bottle1"]
polygon = PackedVector2Array(-20, 38, -8, -38, 9, -38, 20, 38)

[node name="Sprite2D" type="Sprite2D" parent="Bottle1"]
z_index = 2
y_sort_enabled = true
texture_filter = 1
texture = ExtResource("44_cm3ww")

[node name="SpillPoint" parent="Bottle1" instance=ExtResource("35_3uqy7")]
position = Vector2(0, -31)

[node name="CupSmall" type="CharacterBody2D" parent="."]
y_sort_enabled = true
position = Vector2(736, 222)
scale = Vector2(2, 2)
collision_layer = 8
collision_mask = 5
input_pickable = true
script = ExtResource("45_tj7y5")
cup_capacity = 20
max_ice_cubes = 1
source_id = 1
hold_sound = ExtResource("46_sunde")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="CupSmall"]
polygon = PackedVector2Array(-6, 8, -9, -8, 9, -8, 6, 8)

[node name="ParticleCollider" type="LightOccluder2D" parent="CupSmall"]
position = Vector2(-2, 0)
occluder = SubResource("OccluderPolygon2D_a8htp")

[node name="Area2DContents" type="Area2D" parent="CupSmall"]
collision_layer = 0
collision_mask = 48

[node name="CollisionShape2D" type="CollisionShape2D" parent="CupSmall/Area2DContents"]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_bdipf")

[node name="Sprite2D" type="Sprite2D" parent="CupSmall"]
z_index = 8
texture_filter = 1
texture = ExtResource("47_f1782")

[node name="Sprite2DLiquid" parent="CupSmall" instance=ExtResource("48_v15ix")]
z_index = 8
material = SubResource("ShaderMaterial_o4ral")
texture = ExtResource("49_ia11j")

[node name="SpillPoint" parent="CupSmall" instance=ExtResource("35_3uqy7")]
position = Vector2(-7, -6)
use_alt_spill_point = true
loop = false

[node name="AltSpillPoint" type="Node2D" parent="CupSmall/SpillPoint"]
position = Vector2(14, 0)

[node name="CupMedium" type="CharacterBody2D" parent="."]
y_sort_enabled = true
position = Vector2(716, 200)
scale = Vector2(2, 2)
collision_layer = 8
collision_mask = 5
input_pickable = true
script = ExtResource("45_tj7y5")
cup_capacity = 35
source_id = 2
hold_sound = ExtResource("50_57ac1")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="CupMedium"]
polygon = PackedVector2Array(-11, 8, -12, -12, 12, -12, 11, 8, 5, 13, -5, 13)

[node name="ParticleCollider" type="LightOccluder2D" parent="CupMedium"]
position = Vector2(-1, 0)
occluder = SubResource("OccluderPolygon2D_lr6c1")
sdf_collision = false

[node name="Area2DContents" type="Area2D" parent="CupMedium"]
scale = Vector2(1.44385, 1.44385)
collision_layer = 0
collision_mask = 48

[node name="CollisionShape2D" type="CollisionShape2D" parent="CupMedium/Area2DContents"]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_bdipf")

[node name="Sprite2D" type="Sprite2D" parent="CupMedium"]
z_index = 7
texture_filter = 1
texture = ExtResource("51_cswak")

[node name="Sprite2DLiquid" parent="CupMedium" instance=ExtResource("48_v15ix")]
z_index = 7
material = SubResource("ShaderMaterial_655xr")
texture = ExtResource("52_hgo2k")

[node name="SpillPoint" parent="CupMedium" instance=ExtResource("35_3uqy7")]
position = Vector2(-10, -10)
use_alt_spill_point = true
loop = false

[node name="AltSpillPoint" type="Node2D" parent="CupMedium/SpillPoint"]
position = Vector2(20, 0)

[node name="CupLarge" type="CharacterBody2D" parent="."]
y_sort_enabled = true
position = Vector2(670, 196)
scale = Vector2(2, 2)
collision_layer = 8
collision_mask = 5
input_pickable = true
script = ExtResource("45_tj7y5")
cup_capacity = 50
max_ice_cubes = 3
source_id = 3
hold_sound = ExtResource("53_23gse")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="CupLarge"]
polygon = PackedVector2Array(-12, 17, 18, 17, 15, -18, -9, -18, -9, -9, -17, -9, -18, 7, -10, 8)

[node name="ParticleCollider" type="LightOccluder2D" parent="CupLarge"]
occluder = SubResource("OccluderPolygon2D_iytb4")

[node name="Area2DContents" type="Area2D" parent="CupLarge"]
position = Vector2(2, 0)
scale = Vector2(1.13708, 1.13708)
collision_layer = 0
collision_mask = 48

[node name="CollisionShape2D" type="CollisionShape2D" parent="CupLarge/Area2DContents"]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_j507e")

[node name="Sprite2D" type="Sprite2D" parent="CupLarge"]
z_index = 6
texture_filter = 1
position = Vector2(-1, 0)
texture = ExtResource("54_8bst2")

[node name="Sprite2DLiquid" parent="CupLarge" instance=ExtResource("48_v15ix")]
z_index = 6
material = SubResource("ShaderMaterial_8e8bw")
position = Vector2(2, 0)

[node name="SpillPoint" parent="CupLarge" instance=ExtResource("35_3uqy7")]
position = Vector2(-9, -16)
use_alt_spill_point = true
loop = false

[node name="AltSpillPoint" type="Node2D" parent="CupLarge/SpillPoint"]
position = Vector2(22, 0)

[node name="Frame" type="StaticBody2D" parent="."]
position = Vector2(1, 0)
scale = Vector2(2, 2)
collision_layer = 2

[node name="Frame" type="Sprite2D" parent="Frame"]
z_index = 10
position = Vector2(200, 120)
texture = SubResource("CanvasTexture_p4c3i")

[node name="CollisionShape2DLeft" type="CollisionShape2D" parent="Frame"]
position = Vector2(3, 108.5)
shape = SubResource("RectangleShape2D_4fqae")

[node name="CollisionShape2DRight" type="CollisionShape2D" parent="Frame"]
position = Vector2(397.5, 108.5)
shape = SubResource("RectangleShape2D_4pb45")

[node name="Area2DOutOfBounds" type="Area2D" parent="."]
position = Vector2(200, 262)
scale = Vector2(2, 2)
collision_layer = 0
collision_mask = 56
script = ExtResource("56_rcjlm")

[node name="TeleportPoint" type="Node2D" parent="Area2DOutOfBounds"]
unique_name_in_owner = true
position = Vector2(100, -164.5)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2DOutOfBounds"]
visibility_layer = 16
position = Vector2(77.5, 159.5)
shape = SubResource("RectangleShape2D_0u3q2")

[connection signal="mouse_entered" from="UI/IndicatorsContainer" to="UI/IndicatorsContainer" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="UI/IndicatorsContainer" to="UI/IndicatorsContainer" method="_on_mouse_exited"]
[connection signal="input_event" from="CustomerManager/Area2DCustomerInteraction" to="CustomerManager" method="_on_area_2d_customer_interaction_input_event"]
[connection signal="body_entered" from="IceTray" to="IceTray" method="_on_body_entered"]
[connection signal="input_event" from="IceTray" to="IceTray" method="_on_input_event"]
[connection signal="input_event" from="Bell" to="Bell" method="_on_input_event"]
[connection signal="input_event" from="Book" to="Book" method="_on_input_event"]
[connection signal="pressed" from="Book/Sprite2DOverlay/Overlay/ButtonIndex" to="Book/Sprite2DOverlay/Overlay" method="goto_index"]
[connection signal="pressed" from="Book/Sprite2DOverlay/Overlay/ButtonPrevPage" to="Book/Sprite2DOverlay/Overlay" method="prev_page"]
[connection signal="pressed" from="Book/Sprite2DOverlay/Overlay/ButtonNextPage" to="Book/Sprite2DOverlay/Overlay" method="next_page"]
[connection signal="body_entered" from="Area2DOutOfBounds" to="Area2DOutOfBounds" method="_on_body_entered"]
